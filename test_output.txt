F.FF.F.
======================================================================
GameStateManager initialized with SQLite.
FAIL: test_calculate_quest_rewards_poor (__main__.TestEconomy.test_calculate_quest_rewards_poor)
GameStateManager initialized with SQLite.
GameStateManager initialized with SQLite.
GameStateManager initialized with SQLite.
GameStateManager initialized with SQLite.
GameStateManager initialized with SQLite.
GameStateManager initialized with SQLite.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Projects\_GeminiAssist\ChatRPG\tests\test_economy.py", line 36, in test_calculate_quest_rewards_poor
    self.assertIsNone(gold_reward)
AssertionError: {'type': 'gold', 'amount': 1} is not None

======================================================================
FAIL: test_npc_resource_levels (__main__.TestEconomy.test_npc_resource_levels)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Projects\_GeminiAssist\ChatRPG\tests\test_economy.py", line 23, in test_npc_resource_levels
    self.assertIn("gold", NPC_RESOURCE_LEVELS["wealthy"]["can_offer"])
AssertionError: 'gold' not found in ['substantial_gold', 'rare_items', 'political_favors', 'land_grants']

======================================================================
FAIL: test_validate_llm_quest_rewards_inflated_gold (__main__.TestEconomy.test_validate_llm_quest_rewards_inflated_gold)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Projects\_GeminiAssist\ChatRPG\tests\test_economy.py", line 93, in test_validate_llm_quest_rewards_inflated_gold
    self.assertIn("Gold amount too high", errors[0])
AssertionError: 'Gold amount too high' not found in 'Merchant (resource level: wealthy) cannot offer gold.'

======================================================================
FAIL: test_validate_llm_quest_rewards_valid (__main__.TestEconomy.test_validate_llm_quest_rewards_valid)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "C:\Projects\_GeminiAssist\ChatRPG\tests\test_economy.py", line 65, in test_validate_llm_quest_rewards_valid
    self.assertEqual(len(errors), 0)
AssertionError: 1 != 0

----------------------------------------------------------------------
Ran 7 tests in 0.012s

FAILED (failures=4)
